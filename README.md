<<<<<<< HEAD
ðŸ“˜ åœ¨çº¿æŠ¥ä¿®ç³»ç»Ÿ â€” å¼€å‘è¯´æ˜Žæ–‡æ¡£ï¼ˆå½“å‰è¿›åº¦ç‰ˆï¼‰
1. é¡¹ç›®ç®€ä»‹

åœ¨çº¿æŠ¥ä¿®ç³»ç»Ÿæ˜¯ä¸€ä¸ªå¸®åŠ©å­¦æ ¡ã€ä¼ä¸šæˆ–ç»„ç»‡åœ¨çº¿æäº¤ç»´ä¿®ç”³è¯·ã€ç”±å·¥ç¨‹å¸ˆæŽ¥å•å¹¶å¤„ç†çš„ç³»ç»Ÿã€‚åŒ…å«è§’è‰²ï¼š

æ™®é€šç”¨æˆ·ï¼ˆä¸ŠæŠ¥è®¾å¤‡æ•…éšœï¼‰

å·¥ç¨‹å¸ˆï¼ˆè´Ÿè´£åŒºåŸŸï¼ŒæŸ¥çœ‹ã€å¤„ç†å·¥å•ï¼‰

ç®¡ç†å‘˜ï¼ˆç®¡ç†ç”¨æˆ·ã€è§’è‰²ã€åŒºåŸŸã€è®¾å¤‡ã€å·¥å•ï¼‰

ç³»ç»ŸåŒ…æ‹¬ï¼šç”¨æˆ·ç®¡ç†ã€è§’è‰²æƒé™ã€åŒºåŸŸå±‚çº§ç®¡ç†ã€å·¥å•ä¸ŠæŠ¥ä¸Žæµè½¬ã€ç»Ÿè®¡ç­‰ã€‚

æœ¬é¡¹ç›®åŸºäºŽ Spring Boot + Spring Security + JWT + JPA + MySQL å®žçŽ°åŽç«¯ APIï¼Œæœªæ¥å¯é…å¥— Vue æˆ– React å®žçŽ°å‰ç«¯ã€‚

2. æŠ€æœ¯æ ˆè¯´æ˜Ž
âœ” åŽç«¯æŠ€æœ¯

Spring Boot 3.x

Spring Security + JWTï¼ˆç”¨æˆ·è®¤è¯ä¸Žæƒé™æŽ§åˆ¶ï¼‰

Spring Data JPAï¼ˆORM æ˜ å°„ï¼‰

MySQLï¼ˆæ•°æ®åº“ï¼‰

Lombokï¼ˆç®€åŒ–å¼€å‘ï¼‰

Swagger / OpenAPIï¼ˆæŽ¥å£æ–‡æ¡£ï¼‰

âœ” å‰ç«¯æŠ€æœ¯ï¼ˆæœªæ¥è§„åˆ’ï¼‰

Vue3 / Reactï¼ˆå¾…å®šï¼‰

Ant Design / Element Plusï¼ˆå¾…å®šï¼‰

3. å½“å‰æ•°æ®ç»“æž„è®¾è®¡ï¼ˆå·²å®Œæˆï¼‰

ä½ å·²ç»å®Œæˆäº†ç³»ç»Ÿæ ¸å¿ƒçš„æ•°æ®ç»“æž„ï¼ŒåŒ…æ‹¬ï¼š

âœ” ç”¨æˆ·ä¸Žè§’è‰²ä½“ç³»

usersï¼ˆç”¨æˆ·ï¼‰

user_roleï¼ˆè§’è‰²ï¼‰

user_role_relï¼ˆç”¨æˆ·-è§’è‰²å…³ç³»ï¼‰

å¹¶æ”¯æŒç”¨æˆ·å¤šè§’è‰²ï¼Œä¾‹å¦‚ç”¨æˆ·å¯ä»¥åŒæ—¶æ˜¯ï¼š

ç®¡ç†å‘˜ï¼ˆADMINï¼‰

å·¥ç¨‹å¸ˆï¼ˆENGINEERï¼‰

âœ” åŒºåŸŸå±‚çº§ï¼ˆè‰ç¨¿ï¼‰

å±‚çº§ä¸ºï¼š

æ¥¼æ ‹ â†’ æ¥¼å±‚

å®žä½“ç±»éƒ¨åˆ†å·²ç»åœ¨ç”Ÿæˆä¸­ï¼Œä¾‹å¦‚ buildingã€floorã€‚

4. å½“å‰å·²å®Œæˆæ¨¡å—
âœ” 4.1 ç”¨æˆ·ç®¡ç†æ¨¡å—ï¼ˆåŸºç¡€ç‰ˆæœ¬ï¼‰

ç”¨æˆ·å¢žåˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰

æ³¨å†Œä¸Žå¯†ç åŠ å¯†ï¼ˆBCryptï¼‰

ç”¨æˆ·å¤šè§’è‰²è®¾è®¡ï¼ˆå¤šå¯¹å¤šï¼‰

âœ” 4.2 è§’è‰²ç®¡ç†æ¨¡å—ï¼ˆåŸºç¡€ç‰ˆæœ¬ï¼‰

è§’è‰²å¢žåˆ æ”¹æŸ¥

æŸ¥è¯¢ç”¨æˆ·è§’è‰²

ä¸ºç”¨æˆ·åˆ†é…è§’è‰²ï¼ˆassignRolesï¼‰

âœ” 4.3 ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

JWT ç™»å½•

JWT è¿‡æ»¤å™¨

å…¨å±€è®¤è¯

Spring Security åŸºç¡€é…ç½®

âœ” 4.4 Swagger API æ–‡æ¡£

ä½ å·²ç»æœ‰ Swagger API æ–‡æ¡£è¾“å‡ºèƒ½åŠ›ï¼Œå¯ç”¨äºŽè°ƒè¯•ã€‚

5. å½“å‰æ­£åœ¨å¼€å‘çš„æ¨¡å—ï¼ˆè¿›è¡Œä¸­ï¼‰
ðŸ”§ 5.1 è§’è‰²æƒé™ä½“ç³»å®Œå–„

è¿‘æœŸä½ æ­£åœ¨å¤„ç†ï¼š

åˆ é™¤è§’è‰²è¿”å›ž 403ï¼ˆå› ä¸ºéœ€è¦ ADMIN æƒé™ï¼‰

ä¿®å¤ assignRoles çš„äº‹åŠ¡é—®é¢˜

å¯¹è§’è‰²æ“ä½œè®¾ç½® admin-only æƒé™

è§’è‰²ä¸Žç”¨æˆ·å…³ç³»æ›´æ–°çš„æŠ¥é”™ï¼ˆEntityManager remove æ— äº‹åŠ¡ï¼‰

ðŸ”§ 5.2 æµ‹è¯•é˜¶æ®µé‡åˆ°çš„é—®é¢˜æ•´ç†ä¸Žä¿®å¤

ä½ å·²ç»æå‡ºçš„é—®é¢˜åŒ…æ‹¬ï¼š

JSON æ•°ç»„ vs JSON å¯¹è±¡ï¼ˆ[] ä¸Ž {} åŒºåˆ«ï¼‰

åˆ é™¤ç”¨æˆ·æ˜¯å¦éœ€è¦åˆ é™¤å…³è”è§’è‰²

Content-Type å¯¼è‡´çš„ 415 é”™è¯¯

Spring Security çš„æƒé™è§„åˆ™æ”¾ç½®ä½ç½®

è¿™äº›å±žäºŽ â€œç”¨æˆ·æ¨¡å— + è§’è‰²æ¨¡å—â€ çš„æ·±åŒ–å®Œå–„é˜¶æ®µã€‚

6. å¾…å¼€å‘æ¨¡å—ï¼ˆå®Œæ•´åŠŸèƒ½è“å›¾ï¼‰
ðŸŸ¦ 6.1 åŒºåŸŸç®¡ç†æ¨¡å—ï¼ˆæœªå®Œæˆï¼‰

æ ¡åŒº/æ¥¼æ ‹/æ¥¼å±‚/æ•™å®¤/è®¾å¤‡çš„ CRUD

å·¥ç¨‹å¸ˆè´Ÿè´£åŒºåŸŸçš„ç»‘å®š

æ ¹æ®åŒºåŸŸç­›é€‰å·¥å•

ðŸŸ¥ 6.2 å·¥å•ï¼ˆæŠ¥ä¿®ï¼‰æ¨¡å—ï¼ˆæ ¸å¿ƒä¸šåŠ¡ï¼‰

è¯¥æ¨¡å—æœªå¼€å‘ï¼Œæ˜¯ç³»ç»Ÿçš„æ ¸å¿ƒï¼š

æ™®é€šç”¨æˆ·æäº¤å·¥å•ï¼ˆè®¾å¤‡ + æè¿° + å›¾ç‰‡ï¼‰

å·¥ç¨‹å¸ˆæŸ¥çœ‹è´Ÿè´£åŒºåŸŸçš„å¾…å¤„ç†å·¥å•

å·¥ç¨‹å¸ˆæŽ¥å•ã€å¤„ç†ã€å®Œæˆ

ç®¡ç†å‘˜æŸ¥çœ‹å…¨éƒ¨å·¥å•

æ”¯æŒçŠ¶æ€æµè½¬ï¼š

å¾…å¤„ç† â†’ å·²æŽ¥å• â†’ å¤„ç†ä¸­ â†’ å·²å®Œæˆ/å·²å–æ¶ˆï¼ˆä¸€å…±äº”ç§çŠ¶æ€ï¼‰

ðŸŸ¨ 6.3 ç»Ÿè®¡æŠ¥è¡¨ï¼ˆéžå¿…éœ€ï¼Œä½†å¸¸ç”¨ï¼‰

å·¥ç¨‹å¸ˆå¤„ç†é‡æŽ’å

å¸¸è§æ•…éšœç±»åž‹ç»Ÿè®¡

åŒºåŸŸæ•…éšœç»Ÿè®¡

ðŸŸ© 6.4 ç³»ç»Ÿä¸Žæ—¥å¿—æ¨¡å—ï¼ˆå¯é€‰ï¼‰

æ“ä½œæ—¥å¿—

å·¥å•æ¶ˆæ¯é€šçŸ¥ï¼ˆé‚®ä»¶/æ¶ˆæ¯æŽ¨é€ï¼‰

7. å½“å‰å¼€å‘è¿›åº¦ï¼ˆç™¾åˆ†æ¯”ï¼‰

æ ¹æ®ä¸€ä¸ªå…¸åž‹åœ¨çº¿æŠ¥ä¿®ç³»ç»ŸåŒ…å«çš„æ¨¡å—ï¼Œå¯ç²—ç•¥ä¼°ç®—ï¼š

æ¨¡å—	æƒé‡	å®Œæˆåº¦	å¾—åˆ†
ç”¨æˆ·ç®¡ç†	10%	80%	8%
è§’è‰²/æƒé™	15%	70%	10.5%
åŒºåŸŸç®¡ç†	20%	20%	4%
å·¥å•ç³»ç»Ÿï¼ˆæ ¸å¿ƒï¼‰	35%	0%	0%
ç»Ÿè®¡æŠ¥è¡¨	10%	0%	0%
é€šçŸ¥ç³»ç»Ÿ/æ—¥å¿—	10%	0%	0%
ðŸŽ¯ å½“å‰æ€»ä½“è¿›åº¦ â‰ˆ 22% - 25%

ä½ å·²ç»å®Œæˆäº†ï¼š

ç™»å½• / æƒé™ä½“ç³»åŸºç¡€

ç”¨æˆ·ä¸Žè§’è‰²ç³»ç»Ÿ

API æ–‡æ¡£

Spring Security æ¡†æž¶
è¿™äº›éƒ½æ˜¯ç³»ç»Ÿæœ€éš¾ä¹Ÿæœ€åº•å±‚çš„éƒ¨åˆ†ã€‚

å‰©ä¸‹çš„ä¸»è¦æ˜¯ä¸šåŠ¡åŠŸèƒ½å¼€å‘ã€‚

8. ä¸‹ä¸€æ­¥å¼€å‘å»ºè®®ï¼ˆæŒ‰é¡ºåºï¼‰
â‘  å®Œæˆè§’è‰²æƒé™ä½“ç³»çš„ç»†åŒ–ï¼ˆä½ å½“å‰æ­£åœ¨åšï¼‰

æŽ§åˆ¶ /api/roles/** åªå…è®¸ ADMIN è®¿é—®

ä¿®å¤ assignRoles æ—¶çš„äº‹åŠ¡é—®é¢˜ï¼ˆåŠ ä¸Š @Transactionalï¼‰

â‘¡ å®ŒæˆåŒºåŸŸç®¡ç†æ¨¡å—ï¼ˆé‡è¦ï¼‰

å®Œæˆæ ¡åŒº â†’ è®¾å¤‡å®žä½“ç±»ä¸Ž CRUD

å·¥ç¨‹å¸ˆç»‘å®šè´Ÿè´£åŒºåŸŸ

â‘¢ å¼€å‘å·¥å•æ¨¡å—ï¼ˆæ ¸å¿ƒï¼‰

å·¥å•å®žä½“ç±»

å·¥å•æäº¤ API

å·¥å•çŠ¶æ€æµè½¬

å·¥ç¨‹å¸ˆçš„â€œæˆ‘çš„å·¥å•â€

â‘£ å¼€å‘å‰ç«¯é¡µé¢ï¼ˆè‹¥éœ€è¦ï¼‰

ç”¨æˆ·ç«¯ï¼šæŠ¥ä¿®é¡µé¢ã€æˆ‘çš„å·¥å•

å·¥ç¨‹å¸ˆç«¯ï¼šå¾…å¤„ç†å·¥å•ã€å¤„ç†å·¥å•

ç®¡ç†ç«¯ï¼šç”¨æˆ·ç®¡ç†ã€è§’è‰²ç®¡ç†ã€åŒºåŸŸç®¡ç†ã€å·¥å•ç®¡ç†

ðŸ“Œ æ€»ç»“

ä½ å·²ç»æˆåŠŸå®Œæˆäº†ç³»ç»Ÿä¸­æœ€åº•å±‚ã€æœ€å¤æ‚çš„éƒ¨åˆ†ï¼š

âœ” ç”¨æˆ·ä½“ç³»
âœ” è§’è‰²ä½“ç³»
âœ” JWT ç™»å½•
âœ” Spring Security æ¡†æž¶
âœ” Swagger æ–‡æ¡£

æŽ¥ä¸‹æ¥ä¸»è¦æ˜¯å›´ç»•ä¸šåŠ¡å¼€å‘å³å¯ã€‚

å¦‚æžœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ç»§ç»­å¸®ä½ ï¼š

ðŸ“Œ ç»™å‡ºå®Œæ•´çš„é¡¹ç›®ç›®å½•ç»“æž„è§„åˆ’
ðŸ“Œ ä¸ºä½ è‡ªåŠ¨ç”Ÿæˆå…¨éƒ¨æ¨¡å—çš„ API è®¾è®¡
ðŸ“Œ ä¸ºä½ ç”Ÿæˆå·¥å•ç³»ç»Ÿçš„æ•°æ®åº“è¡¨ç»“æž„
ðŸ“Œ è‡ªåŠ¨ç”ŸæˆåŒºåŸŸç®¡ç†æ¨¡å—çš„å®žä½“ç±» + Service + Controller ç¤ºä¾‹
ðŸ“Œ å¸®ä½ å†™ä¸€ä»½å¯ç”¨äºŽç­”è¾©/æŠ¥å‘Šçš„é¡¹ç›®è®¾è®¡æ–‡æ¡£
=======
# TheRepairSystem - ç»´ä¿®å·¥å•ç³»ç»ŸåŽç«¯å¼€å‘æ€»ç»“

## é¡¹ç›®æ¦‚è¿°

TheRepairSystem æ˜¯ä¸€ä¸ªåŸºäºŽ Spring Boot 3.3.5 çš„ç»´ä¿®å·¥å•ç®¡ç†ç³»ç»ŸåŽç«¯æœåŠ¡ï¼Œæ”¯æŒç”¨æˆ·æŠ¥ä¿®ã€å·¥ç¨‹å¸ˆæŽ¥å•ã€ç®¡ç†å‘˜ç®¡ç†ç­‰å®Œæ•´çš„ç»´ä¿®å·¥å•æµç¨‹ã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æž¶**: Spring Boot 3.3.5
- **æ•°æ®åº“**: MySQL + JPA/Hibernate
- **å®‰å…¨**: Spring Security + JWT
- **æ–‡æ¡£**: Swagger/OpenAPI 3
- **æž„å»ºå·¥å…·**: Maven
- **Javaç‰ˆæœ¬**: JDK 21

## æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. ç”¨æˆ·ç®¡ç†æ¨¡å— (User Management)
- **ç”¨æˆ·æ³¨å†Œ/ç™»å½•**: JWT token è®¤è¯
- **è§’è‰²æƒé™**: æ”¯æŒæ™®é€šç”¨æˆ·ã€å·¥ç¨‹å¸ˆã€ç®¡ç†å‘˜ä¸‰ç§è§’è‰²
- **ç”¨æˆ·ä¿¡æ¯ç®¡ç†**: åŸºæœ¬ä¿¡æ¯ç»´æŠ¤

### 2. ç»´ä¿®å·¥å•æ¨¡å— (Repair Order Management)
- **å·¥å•ç”Ÿå‘½å‘¨æœŸ**: DRAFT â†’ PENDING â†’ IN_PROGRESS â†’ COMPLETED â†’ CLOSED
- **ç”¨æˆ·åŠŸèƒ½**: 
  - æäº¤ç»´ä¿®ç”³è¯·
  - ä¿å­˜è‰ç¨¿/æäº¤è‰ç¨¿
  - æŸ¥çœ‹å·¥å•çŠ¶æ€
  - å…³é—­å·¥å•å¹¶è¯„ä»·
- **å·¥ç¨‹å¸ˆåŠŸèƒ½**:
  - æŽ¥æ”¶å·¥å•
  - å®Œæˆç»´ä¿®å·¥ä½œ
  - æŸ¥çœ‹ä¸ªäººå·¥å•
- **ç®¡ç†å‘˜åŠŸèƒ½**:
  - åˆ†é…å·¥ç¨‹å¸ˆ
  - æŸ¥çœ‹æ‰€æœ‰å·¥å•
  - å·¥å•ç»Ÿè®¡

### 3. è¯„ä»·ç³»ç»Ÿæ¨¡å— (Rating System)
- **è¯„ä»·æäº¤**: ç”¨æˆ·å¯¹å®Œæˆçš„å·¥å•è¿›è¡Œ1-5æ˜Ÿè¯„ä»·
- **è¯„ä»·æŸ¥è¯¢**: æ”¯æŒæŒ‰å·¥å•ã€å·¥ç¨‹å¸ˆã€ç”¨æˆ·ç­‰ç»´åº¦æŸ¥è¯¢
- **ç»Ÿè®¡åŠŸèƒ½**: å·¥ç¨‹å¸ˆè¯„ä»·ç»Ÿè®¡ã€å¹³å‡åˆ†è®¡ç®—

### 4. åŸºç¡€æ•°æ®æ¨¡å— (Basic Data)
- **å»ºç­‘æ¥¼å±‚ç®¡ç†**: æ”¯æŒå¤šå»ºç­‘ã€å¤šæ¥¼å±‚
- **æ•…éšœç±»åž‹ç®¡ç†**: å¯é…ç½®çš„æ•…éšœåˆ†ç±»
- **å·¥ç¨‹å¸ˆæŠ€èƒ½é…ç½®**: å·¥ç¨‹å¸ˆæ“…é•¿çš„æ•…éšœç±»åž‹å’Œè´Ÿè´£åŒºåŸŸ

### 5. æƒé™å®‰å…¨æ¨¡å— (Security)
- **JWTè®¤è¯**: æ— çŠ¶æ€tokenè®¤è¯
- **è§’è‰²æƒé™æŽ§åˆ¶**: åŸºäºŽè§’è‰²çš„è®¿é—®æŽ§åˆ¶(RBAC)
- **æŽ¥å£æƒé™**: ç»†ç²’åº¦çš„APIæƒé™æŽ§åˆ¶

## é¡¹ç›®ç›®å½•ç»“æž„

```
src/
â”œâ”€â”€ main/
â”‚   â”œâ”€â”€ java/org/trs/therepairsystem/
â”‚   â”‚   â”œâ”€â”€ TheRepairSystemApplication.java           # åº”ç”¨å¯åŠ¨ç±»
â”‚   â”‚   â”œâ”€â”€ common/                                   # é€šç”¨æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ApiResponse.java                 # ç»Ÿä¸€å“åº”æ ¼å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ enums/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RepairOrderStatus.java           # å·¥å•çŠ¶æ€æžšä¸¾
â”‚   â”‚   â”‚   â””â”€â”€ exception/
â”‚   â”‚   â”‚       â”œâ”€â”€ BusinessException.java           # ä¸šåŠ¡å¼‚å¸¸
â”‚   â”‚   â”‚       â””â”€â”€ GlobalExceptionHandler.java      # å…¨å±€å¼‚å¸¸å¤„ç†
â”‚   â”‚   â”œâ”€â”€ config/                                   # é…ç½®ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ SwaggerConfig.java                   # Swaggeræ–‡æ¡£é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ WebMvcConfig.java                    # Webé…ç½®
â”‚   â”‚   â”œâ”€â”€ controller/                               # æŽ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ RepairOrderController.java           # ç»´ä¿®å·¥å•æŽ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ RepairRatingController.java          # è¯„ä»·ç®¡ç†æŽ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ RoleController.java                  # è§’è‰²ç®¡ç†æŽ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ UserController.java                  # ç”¨æˆ·ç®¡ç†æŽ¥å£
â”‚   â”‚   â”œâ”€â”€ dto/                                     # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”‚   â”œâ”€â”€ request/                             # è¯·æ±‚DTO
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RepairOrderSubmitRequest.java    # å·¥å•æäº¤è¯·æ±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RepairOrderAssignRequest.java    # å·¥å•åˆ†é…è¯·æ±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RepairOrderCompleteRequest.java  # å·¥å•å®Œæˆè¯·æ±‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RepairRatingRequest.java         # è¯„ä»·è¯·æ±‚
â”‚   â”‚   â”‚   â””â”€â”€ response/                            # å“åº”DTO
â”‚   â”‚   â”‚       â”œâ”€â”€ RepairOrderResponse.java         # å·¥å•å“åº”
â”‚   â”‚   â”‚       â”œâ”€â”€ RepairRatingResponse.java        # è¯„ä»·å“åº”
â”‚   â”‚   â”‚       â””â”€â”€ EngineerResponse.java            # å·¥ç¨‹å¸ˆå“åº”
â”‚   â”‚   â”œâ”€â”€ entity/                                  # å®žä½“ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ User.java                           # ç”¨æˆ·å®žä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ UserRole.java                       # è§’è‰²å®žä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ UserRoleRel.java                    # ç”¨æˆ·è§’è‰²å…³è”
â”‚   â”‚   â”‚   â”œâ”€â”€ RepairOrder.java                    # ç»´ä¿®å·¥å•å®žä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ RepairRating.java                   # ç»´ä¿®è¯„ä»·å®žä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ Building.java                       # å»ºç­‘å®žä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ Floor.java                          # æ¥¼å±‚å®žä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ FaultType.java                      # æ•…éšœç±»åž‹å®žä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ EngineerAreaRel.java                # å·¥ç¨‹å¸ˆåŒºåŸŸå…³è”
â”‚   â”‚   â”‚   â””â”€â”€ EngineerFaultRel.java               # å·¥ç¨‹å¸ˆæ•…éšœç±»åž‹å…³è”
â”‚   â”‚   â”œâ”€â”€ repository/                              # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ UserRepository.java                 # ç”¨æˆ·æ•°æ®è®¿é—®
â”‚   â”‚   â”‚   â”œâ”€â”€ RoleRepository.java                 # è§’è‰²æ•°æ®è®¿é—®
â”‚   â”‚   â”‚   â”œâ”€â”€ UserRoleRelRepository.java          # ç”¨æˆ·è§’è‰²å…³è”æ•°æ®è®¿é—®
â”‚   â”‚   â”‚   â”œâ”€â”€ RepairOrderRepository.java          # å·¥å•æ•°æ®è®¿é—®
â”‚   â”‚   â”‚   â””â”€â”€ RepairRatingRepository.java         # è¯„ä»·æ•°æ®è®¿é—®
â”‚   â”‚   â”œâ”€â”€ security/                                # å®‰å…¨æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ SecurityConfig.java                 # Spring Securityé…ç½®
â”‚   â”‚   â”‚   â”œâ”€â”€ JwtAuthenticationFilter.java        # JWTè®¤è¯è¿‡æ»¤å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ JwtUtil.java                        # JWTå·¥å…·ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ CustomUserDetails.java              # è‡ªå®šä¹‰ç”¨æˆ·è¯¦æƒ…
â”‚   â”‚   â”‚   â””â”€â”€ CustomUserDetailsService.java       # ç”¨æˆ·è¯¦æƒ…æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ service/                                 # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ RepairOrderService.java             # å·¥å•æœåŠ¡æŽ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ RepairOrderServiceImpl.java         # å·¥å•æœåŠ¡å®žçŽ°
â”‚   â”‚   â”‚   â”œâ”€â”€ RepairRatingService.java            # è¯„ä»·æœåŠ¡æŽ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ RepairRatingServiceImpl.java        # è¯„ä»·æœåŠ¡å®žçŽ°
â”‚   â”‚   â”‚   â”œâ”€â”€ RoleService.java                    # è§’è‰²æœåŠ¡æŽ¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ RoleServiceImpl.java                # è§’è‰²æœåŠ¡å®žçŽ°
â”‚   â”‚   â”‚   â”œâ”€â”€ UserService.java                    # ç”¨æˆ·æœåŠ¡æŽ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ UserServiceImpl.java                # ç”¨æˆ·æœåŠ¡å®žçŽ°
â”‚   â”‚   â””â”€â”€ web/                                     # Webç›¸å…³
â”‚   â”‚       â””â”€â”€ AuthController.java                 # è®¤è¯æŽ§åˆ¶å™¨
â”‚   â””â”€â”€ resources/
â”‚       â””â”€â”€ application.yml                          # åº”ç”¨é…ç½®æ–‡ä»¶
â””â”€â”€ test/                                           # æµ‹è¯•æ¨¡å—
    â””â”€â”€ java/org/trs/therepairsystem/
        â”œâ”€â”€ TheRepairSystemApplicationTests.java    # åº”ç”¨æµ‹è¯•
        â”œâ”€â”€ UserRepositoryTest.java                 # ç”¨æˆ·æ•°æ®è®¿é—®æµ‹è¯•
        â””â”€â”€ controller/                             # æŽ§åˆ¶å™¨æµ‹è¯•
```

## æ ¸å¿ƒæ–‡ä»¶è¯´æ˜Ž

### å¯åŠ¨ç±»
- **TheRepairSystemApplication.java**: Spring Bootåº”ç”¨ä¸»å¯åŠ¨ç±»

### å®žä½“å±‚ (Entity)
- **User.java**: ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼Œæ”¯æŒå¤šè§’è‰²
- **RepairOrder.java**: ç»´ä¿®å·¥å•æ ¸å¿ƒå®žä½“ï¼ŒåŒ…å«å®Œæ•´ç”Ÿå‘½å‘¨æœŸçŠ¶æ€ç®¡ç†
- **RepairRating.java**: è¯„ä»·å®žä½“ï¼Œæ”¯æŒ1-5æ˜Ÿè¯„ä»·å’Œè¯„è®º
- **Building/Floor.java**: å»ºç­‘æ¥¼å±‚å®žä½“ï¼Œæ”¯æŒå±‚çº§ç»“æž„
- **FaultType.java**: æ•…éšœç±»åž‹åˆ†ç±»
- **EngineerAreaRel/EngineerFaultRel.java**: å·¥ç¨‹å¸ˆæŠ€èƒ½å’ŒåŒºåŸŸé…ç½®

### æŽ§åˆ¶å™¨å±‚ (Controller)
- **RepairOrderController.java**: æä¾›30+ä¸ªå·¥å•ç›¸å…³APIæŽ¥å£
- **RepairRatingController.java**: æä¾›è¯„ä»·æŸ¥è¯¢å’Œç»Ÿè®¡æŽ¥å£
- **UserController/RoleController.java**: ç”¨æˆ·å’Œè§’è‰²ç®¡ç†æŽ¥å£
- **AuthController.java**: ç™»å½•è®¤è¯æŽ¥å£

### æœåŠ¡å±‚ (Service)
- **RepairOrderService**: å·¥å•ä¸šåŠ¡é€»è¾‘ï¼ŒåŒ…å«çŠ¶æ€æµè½¬ã€æƒé™éªŒè¯
- **RepairRatingService**: è¯„ä»·ä¸šåŠ¡é€»è¾‘ï¼Œæ”¯æŒç»Ÿè®¡åˆ†æž
- **UserService**: ç”¨æˆ·ç®¡ç†ä¸šåŠ¡é€»è¾‘

### å®‰å…¨å±‚ (Security)
- **SecurityConfig.java**: Spring Securityé…ç½®ï¼Œå®šä¹‰è®¤è¯å’ŒæŽˆæƒè§„åˆ™
- **JwtUtil.java**: JWT tokenç”Ÿæˆå’ŒéªŒè¯
- **CustomUserDetails**: è‡ªå®šä¹‰ç”¨æˆ·è®¤è¯ä¿¡æ¯

## ä¸»è¦åŠŸèƒ½ç‰¹æ€§

### 1. å®Œæ•´çš„å·¥å•æµç¨‹
- **è‰ç¨¿ä¿å­˜**: æ”¯æŒä¿å­˜è‰ç¨¿ï¼Œç¨åŽæäº¤
- **è‡ªåŠ¨åˆ†é…**: æ ¹æ®å·¥ç¨‹å¸ˆæŠ€èƒ½å’ŒåŒºåŸŸè‡ªåŠ¨æŽ¨è
- **çŠ¶æ€è¿½è¸ª**: å®Œæ•´çš„å·¥å•çŠ¶æ€æµè½¬
- **æƒé™æŽ§åˆ¶**: ä¸åŒè§’è‰²æ‹¥æœ‰ä¸åŒæ“ä½œæƒé™

### 2. çµæ´»çš„æƒé™ç³»ç»Ÿ
- **åŸºäºŽè§’è‰²çš„æƒé™æŽ§åˆ¶**: USERã€ENGINEERã€ADMIN
- **APIçº§åˆ«æƒé™**: æ¯ä¸ªæŽ¥å£éƒ½æœ‰ç²¾ç¡®çš„æƒé™æŽ§åˆ¶
- **JWTæ— çŠ¶æ€è®¤è¯**: æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²

### 3. ä¸°å¯Œçš„æŸ¥è¯¢åŠŸèƒ½
- **å¤šç»´åº¦ç­›é€‰**: æ”¯æŒæŒ‰çŠ¶æ€ã€æ—¶é—´ã€ç”¨æˆ·ç­‰å¤šç§æ¡ä»¶æŸ¥è¯¢
- **åˆ†é¡µæ”¯æŒ**: æ‰€æœ‰åˆ—è¡¨æŽ¥å£éƒ½æ”¯æŒåˆ†é¡µ
- **ç»Ÿè®¡åˆ†æž**: å·¥å•ç»Ÿè®¡ã€è¯„ä»·ç»Ÿè®¡ç­‰

### 4. å®Œå–„çš„è¯„ä»·ç³»ç»Ÿ
- **è¯„ä»·æäº¤**: å·¥å•å®ŒæˆåŽç”¨æˆ·å¯è¿›è¡Œè¯„ä»·
- **è¯„ä»·æŸ¥è¯¢**: å¤šç»´åº¦çš„è¯„ä»·æŸ¥è¯¢å’Œç»Ÿè®¡
- **å·¥ç¨‹å¸ˆè¯„ä»·**: å·¥ç¨‹å¸ˆæœåŠ¡è´¨é‡è¯„ä»·ä½“ç³»

## APIæŽ¥å£æ€»è§ˆ

### è®¤è¯ç›¸å…³
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•

### å·¥å•ç®¡ç†
- `POST /api/repair-orders/submit` - æäº¤å·¥å•
- `POST /api/repair-orders/draft` - ä¿å­˜è‰ç¨¿
- `PUT /api/repair-orders/{orderId}/submit` - æäº¤è‰ç¨¿
- `PUT /api/repair-orders/{orderId}/assign` - åˆ†é…å·¥ç¨‹å¸ˆ
- `PUT /api/repair-orders/{orderId}/accept` - å·¥ç¨‹å¸ˆæŽ¥å•
- `PUT /api/repair-orders/{orderId}/complete` - å®Œæˆå·¥å•
- `PUT /api/repair-orders/{orderId}/close` - å…³é—­å·¥å•å¹¶è¯„ä»·
- `GET /api/repair-orders/my` - æŸ¥çœ‹æˆ‘çš„å·¥å•
- `GET /api/repair-orders/engineer` - å·¥ç¨‹å¸ˆå·¥å•åˆ—è¡¨
- `GET /api/repair-orders/admin/all` - ç®¡ç†å‘˜æŸ¥è¯¢æ‰€æœ‰å·¥å•

### è¯„ä»·ç®¡ç†
- `GET /api/ratings/order/{orderId}` - èŽ·å–å·¥å•è¯„ä»·
- `GET /api/ratings/engineer/{engineerId}/stats` - å·¥ç¨‹å¸ˆè¯„ä»·ç»Ÿè®¡
- `GET /api/ratings/engineer/{engineerId}` - å·¥ç¨‹å¸ˆè¯„ä»·åˆ—è¡¨
- `GET /api/ratings/my` - æˆ‘çš„è¯„ä»·åˆ—è¡¨
- `GET /api/ratings/all` - æ‰€æœ‰è¯„ä»·ï¼ˆç®¡ç†å‘˜ï¼‰

### ç”¨æˆ·ç®¡ç†
- `GET /api/users/profile` - èŽ·å–ç”¨æˆ·ä¿¡æ¯
- `GET /api/roles` - èŽ·å–è§’è‰²åˆ—è¡¨

## å¼€å‘å®Œæˆæƒ…å†µ

âœ… **å·²å®ŒæˆåŠŸèƒ½**:
1. ç”¨æˆ·è®¤è¯ä¸Žæƒé™ç®¡ç†
2. å®Œæ•´çš„å·¥å•ç”Ÿå‘½å‘¨æœŸç®¡ç†
3. è‰ç¨¿ä¿å­˜å’Œæäº¤åŠŸèƒ½
4. å·¥ç¨‹å¸ˆè‡ªåŠ¨æŽ¨èç³»ç»Ÿ
5. è¯„ä»·ç³»ç»Ÿï¼ˆæäº¤å’ŒæŸ¥è¯¢ï¼‰
6. ç»Ÿè®¡åˆ†æžåŠŸèƒ½
7. å®Œå–„çš„APIæ–‡æ¡£ï¼ˆSwaggerï¼‰
8. å…¨å±€å¼‚å¸¸å¤„ç†
9. æ•°æ®éªŒè¯å’Œæƒé™æŽ§åˆ¶
10. åˆ†é¡µå’ŒæŽ’åºæ”¯æŒ

âœ… **æµ‹è¯•éªŒè¯**:
- æ‰€æœ‰æ ¸å¿ƒæŽ¥å£å·²é€šè¿‡åŸºæœ¬åŠŸèƒ½æµ‹è¯•
- æƒé™æŽ§åˆ¶éªŒè¯å®Œæˆ
- å·¥å•çŠ¶æ€æµè½¬éªŒè¯å®Œæˆ
- è¯„ä»·ç³»ç»ŸéªŒè¯å®Œæˆ

## éƒ¨ç½²è¯´æ˜Ž

### æ•°æ®åº“é…ç½®
```yaml
# application.yml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/repair_system
    username: your_username
    password: your_password
```

ç¼–è¯‘å‘½ä»¤
```bash
mvn compile # å¦‚æžœä¿®æ”¹äº†é¡¹ç›®ç»“æž„ï¼Œéœ€è¦æ‰§è¡Œ

mvn clean compile # æ¸…é™¤ç¼“å­˜å¹¶ç¼–è¯‘ï¼ˆä¼šé‡æ–°ä¸‹è½½å†…å®¹ï¼‰

mvn clean compile -e # å¦‚æžœéœ€è¦æŸ¥çœ‹è¯¦ç»†æŠ¥é”™ä¿¡æ¯ï¼Œè¯·åœ¨æœ«å°¾æ·»åŠ  `-e` å‚æ•°
```

### å¯åŠ¨å‘½ä»¤
```bash
mvn spring-boot:run
```

### è®¿é—®åœ°å€
- APIæ–‡æ¡£: http://localhost:8080/swagger-ui.html
- åº”ç”¨ç«¯ç‚¹: http://localhost:8080/api/*

## æ€»ç»“

æœ¬é¡¹ç›®æˆåŠŸå®žçŽ°äº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ç»´ä¿®å·¥å•ç®¡ç†ç³»ç»ŸåŽç«¯ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

1. **æž¶æž„æ¸…æ™°**: é‡‡ç”¨ç»å…¸çš„MVCåˆ†å±‚æž¶æž„ï¼Œä»£ç ç»“æž„æ¸…æ™°
2. **åŠŸèƒ½å®Œæ•´**: è¦†ç›–äº†ç»´ä¿®å·¥å•ç®¡ç†çš„å®Œæ•´ä¸šåŠ¡æµç¨‹
3. **æ‰©å±•æ€§å¥½**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºŽæ‰©å±•æ–°åŠŸèƒ½
4. **å®‰å…¨æ€§é«˜**: å®Œå–„çš„è®¤è¯æŽˆæƒæœºåˆ¶
5. **æ–‡æ¡£å®Œå–„**: è¯¦ç»†çš„APIæ–‡æ¡£å’Œä»£ç æ³¨é‡Š

é¡¹ç›®å¯ä»¥ä½œä¸ºä¼ä¸šçº§ç»´ä¿®å·¥å•ç®¡ç†ç³»ç»Ÿçš„åŸºç¡€æ¡†æž¶ï¼Œæ”¯æŒè¿›ä¸€æ­¥çš„åŠŸèƒ½æ‰©å±•å’Œå®šåˆ¶åŒ–å¼€å‘ã€‚
>>>>>>> 6dc1212 (Revise README for clarity and organization)
